# **JWT**
앞장에서 보셨다 시피, **JWT를 사용하는 이유**를 말씀드렸습니다.

<br>

> 그럼 왜 굳이 JSON 데이터를 토큰화 시키는 걸까요?
## **단순한 JSON 데이터의 해킹**
- **누구나 JSON 데이터**를 HTTP 요청에 첨부해서 보낼 수 있음
- 실제로 **해당 사용자가 아님**에도 불구하고 **해당 사용자라고 인식**되는 불상사 발생
- 하지만 JSON 데이터로 토큰을 이용하면 서버에서 **자신이 만든 토큰인지 검증**할 수 있음

> 다음에 나오는 **JWT의 구조**를 이해하면 더 명확해 질 것입니다.

<br>

---
## **JWT 구조** (xxxxx.yyyyy.zzzzz)
- **header**
    - **토큰 타입** (JWT)
    - 사용되는 **해시 알고리즘** (hashing algorithm)
    ~~~json
    {
        "alg": "HS256",
        "typ": "JWT"
    }
    ~~~
    - 위의 **두 내용**(json 형식)을 **Base64URL** 방식으로 코드화해서 **첫 부분**(헤더) 구상

- **payload**
    - JWT를 통해 **실제로 서버 간에 전송**하고자 하는 **데이터** 부분
    - **HTTP** 통신의 **body와** 비슷하다.
    ~~~json
    {
        "user_id": 2,
        "exp": 21352423
    }
    ~~~
    - payload도 **Base64URL** 코드화되어서 **JWT의 두 번째 부분**을 구성한다.
    - **Base64URL**은 **코드화이지 암호화가 아니기** 때문에 민감한 정보는 포함하지 않는 것이 좋다.

- **signature**
    - **JWT가 원본 그대로**라는 것을 확인할 때 사용되는 부분이다.
    - Base64URL 코드화된 **header, payload + JWT secret**를 헤더에 포함된 알고리즘 방식으로 **암호화(복호화가 가능한 암호)** 하여 전송한다.
    - JWT를 받은 서버는 **signature** 부분을 복호화하여, **서버에서 생성한 JWT**가 맞는지 확인한다.


<br>

---
## **JWT 생성시 조심해야 할 점...?**
- 앞서 말했다 시피, **header** 부분과 **payload** 부분은 암호화가 아닌 **Base64URL로** 코드화 되어있다.
- 따라서 **signature**을 제외한 부분에서는 **민감한 정보를** 포함하지 않도록 하자!